(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[192],{8862:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/contacts",function(){return n(2705)}])},2705:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var c=n(5893),a=n(8415),i=n(7294),d=n(6786),r=n.n(d),o=n(1163);function l(){var e=(0,o.useRouter)();return(0,i.useEffect)((function(){a.ON.onAuthStateChanged((function(t){t&&(a.wO.collection("Users/".concat(t.uid,"/contacts")).onSnapshot((function(t){var n=[];t.forEach((function(e){n.push({name:e.data().name,email:e.data().email})}));for(var c=0;c<n.length;c++){var i=document.getElementById("asdf"),d=document.createElement("div");d.classList.add(r().contacts_box);var o=document.createElement("div");o.classList.add(r().contacts_btns);var l=document.createElement("p");l.innerText=n[c].name+": "+n[c].email,d.append(l);var s=document.createElement("button");s.innerText="Edit Contact",s.id="edit",o.append(s);var m=document.createElement("button");m.id="delete",m.innerText="Delete Contact",o.append(m);var u=document.createElement("button");u.id="mail",u.innerText="Send Mail to: "+n[c].email,o.append(u),d.append(o),i.append(d);s.addEventListener("click",(function(e){var t=document.createElement("div"),c=document.createElement("form"),i=document.createElement("input");i.type="text",i.id="editName",c.append("Name: "),c.append(i);var d=document.createElement("input");d.type="email",d.id="editEmail",c.append("Email: "),c.append(d);var o=document.createElement("button");o.id="editConfirm",o.innerText="Edit Contact";var l=document.createElement("button");l.id="cancelConfirm",l.innerText="Cancel",t.append(c),t.id="formDiv",t.append(o),t.append(l),t.classList.add(r().contacts_formDiv);for(var s=0;s<e.path[3].children.length;s++)if(e.path[3].children[s]==e.path[2]){for(var m=document.getElementById("asdf").children,u=0;u<m[s].children.length;u++){m[s].children[u].hidden=!0;for(var h=0;h<m[s].children[u].children.length;h++)m[s].children[u].children[h].hidden=!0}m[s].append(t),a.wO.collection("Users/".concat(a.ON.currentUser.uid,"/contacts")).where("name","==",n[s].name).where("email","==",n[s].email).get().then((function(e){e.forEach((function(e){}))}))}document.getElementById("editConfirm").addEventListener("click",(function(e){for(var t=0;t<e.path[3].children.length;t++)if(e.path[3].children[t]==e.path[2]){var c=document.getElementById("editName").value,i=document.getElementById("editEmail").value;a.wO.collection("Users/".concat(a.ON.currentUser.uid,"/contacts")).where("name","==",n[t].name).where("email","==",n[t].email).get().then((function(e){e.forEach((function(e){a.wO.doc("Users/".concat(a.ON.currentUser.uid,"/contacts/").concat(e.id)).update({name:c,email:i}),document.getElementById("asdf").innerText=""}))}));for(var d=document.getElementById("asdf").children,r=0;r<d[t].children.length;r++){if(d[t].children[r].hidden=!1,d[t].children[r].hasChildNodes)for(var o=0;o<d[t].children[r].children.length;o++)d[t].children[r].children[o].hidden=!1;"formDiv"===d[t].children[r].id&&d[t].children[r].remove()}}})),document.getElementById("cancelConfirm").addEventListener("click",(function(e){for(var t=0;t<e.path[3].children.length;t++)if(e.path[3].children[t]==e.path[2])for(var n=document.getElementById("asdf").children,c=0;c<n[t].children.length;c++){if(n[t].children[c].hidden=!1,n[t].children[c].hasChildNodes)for(var a=0;a<n[t].children[c].children.length;a++)n[t].children[c].children[a].hidden=!1;"formDiv"===n[t].children[c].id&&n[t].children[c].remove()}}))})),m.addEventListener("click",(function(e){for(var t=0;t<e.path[3].children.length;t++){if(e.path[3].children[t]==e.path[2])document.getElementById("asdf").innerHTML="",a.wO.collection("Users/".concat(a.ON.currentUser.uid,"/contacts")).where("name","==",n[t].name).where("email","==",n[t].email).get().then((function(e){e.forEach((function(e){a.wO.doc("Users/".concat(a.ON.currentUser.uid,"/contacts/").concat(e.id)).delete()}))}))}})),u.addEventListener("click",(function(t){for(var c=0;c<t.path[3].children.length;c++)t.path[3].children[c]==t.path[2]&&e.push("mailto:"+n[c].email)}))}})),document.getElementById("submit").addEventListener("click",(function(){var e=document.getElementById("name"),n=document.getElementById("email");a.wO.collection("Users/".concat(t.uid,"/contacts")).add({name:e.value,email:n.value}),document.getElementById("asdf").innerHTML="",e.value="",n.value=""})))}))}),[]),(0,c.jsxs)("div",{className:r().bigDiv,children:[(0,c.jsx)("h1",{children:"Your Contacts:"}),(0,c.jsxs)("div",{className:r().contacts_box,children:[(0,c.jsxs)("form",{className:r().contacts_form,children:[(0,c.jsx)("input",{id:"name",className:r().contacts_name,type:"text",placeholder:"Full Name",required:!0}),(0,c.jsx)("input",{id:"email",className:r().contacts_email,type:"email",placeholder:"Email",required:!0})]}),(0,c.jsx)("button",{className:r().submit,id:"submit",children:"Create Contact"})]}),(0,c.jsx)("div",{id:"asdf",className:r().contacts})]})}},6786:function(e){e.exports={bigDiv:"contacts_bigDiv__Uyo43",contacts:"contacts_contacts__0_rlE",contacts_box:"contacts_contacts_box__dg1Nd",contacts_form:"contacts_contacts_form__Aw3cy",contacts_name:"contacts_contacts_name___cauv",submit:"contacts_submit__A5_av",contacts_btns:"contacts_contacts_btns__wW9tN",contacts_formDiv:"contacts_contacts_formDiv__sqZYe"}}},function(e){e.O(0,[774,888,179],(function(){return t=8862,e(e.s=t);var t}));var t=e.O();_N_E=t}]);